{"ast":null,"code":"var _jsxFileName = \"E:\\\\Faks\\\\4.god\\\\napredne baze\\\\KNJIGE\\\\frontknjige (3)\\\\frontknjige\\\\src\\\\stranice\\\\SviZanrovi.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst SviZanrovi = ({\n  onZanroviSelect,\n  onClose\n}) => {\n  _s();\n  const [zanrovi, setZanrovi] = useState([]);\n  const [selectedZanrovi, setSelectedZanrovi] = useState([]);\n  useEffect(() => {\n    const fetchZanrovi = async () => {\n      try {\n        const response = await fetch(\"http://localhost:5108/Zanr/vratiSveZanrove\");\n        if (!response.ok) {\n          throw new Error(\"Greška pri učitavanju žanrova\");\n        }\n        const data = await response.json();\n        setZanrovi(data);\n      } catch (error) {\n        console.error(\"Greška prilikom učitavanja žanrova:\", error);\n      }\n      // Ako postoji prethodni izbor u localStorage, postavi ga kao selektovane\n      const savedGenres = JSON.parse(localStorage.getItem(\"selectedGenres\"));\n      if (savedGenres) {\n        setSelectedZanrovi(savedGenres);\n      }\n    };\n    fetchZanrovi();\n  }, []);\n\n  // Selektovanje/odselektovanje žanra\n  const handleCardClick = zanrId => {\n    setSelectedZanrovi(prevSelected => prevSelected.includes(zanrId) ? prevSelected.filter(id => id !== zanrId) // Ukloni ako je već selektovan\n    : [...prevSelected, zanrId] // Dodaj ako nije selektovan\n    );\n  };\n\n  // // Prosljeđivanje izabrane liste nazad parent komponenti (Registracija)\n  // useEffect(() => {\n  //     onZanroviSelect(selectedZanrovi);\n  // }, [selectedZanrovi, onZanroviSelect]);\n\n  // Funkcija koja se poziva pri kliknu na Finish\n  const handleFinishClick = () => {\n    console.log(selectedZanrovi);\n    onZanroviSelect(selectedZanrovi);\n    localStorage.setItem(\"selectedGenres\", JSON.stringify(selectedZanrovi));\n    onClose();\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-0 w-full h-full bg-gray-100\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"text-3xl text-yellow-900 font-bold text-center mt-8 mb-8\",\n      children: \"Genres\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4\",\n      children: zanrovi.map(zanr => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `p-4 ml-4 mr-4 rounded-lg shadow-md cursor-pointer transition ${selectedZanrovi.includes(zanr.id) ? \"bg-yellow-700 text-white\" : \"bg-white text-yellow-900\"}`,\n        onClick: () => handleCardClick(zanr.id),\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: zanr.slika,\n          alt: zanr.naziv,\n          className: \"w-full h-32 object-cover rounded-lg mb-4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-lg font-medium text-center\",\n          children: zanr.naziv\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 13\n        }, this)]\n      }, zanr.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"absolute bottom-4 right-4 bg-yellow-900 text-white px-6 py-3 rounded-lg shadow-md hover:bg-yellow-600 transition\",\n      onClick: handleFinishClick,\n      children: \"Finish\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 5\n  }, this);\n};\n_s(SviZanrovi, \"aO1FFKniCvOBjtQlqVWNxfASLP0=\");\n_c = SviZanrovi;\nexport default SviZanrovi;\nvar _c;\n$RefreshReg$(_c, \"SviZanrovi\");","map":{"version":3,"names":["React","useEffect","useState","jsxDEV","_jsxDEV","SviZanrovi","onZanroviSelect","onClose","_s","zanrovi","setZanrovi","selectedZanrovi","setSelectedZanrovi","fetchZanrovi","response","fetch","ok","Error","data","json","error","console","savedGenres","JSON","parse","localStorage","getItem","handleCardClick","zanrId","prevSelected","includes","filter","id","handleFinishClick","log","setItem","stringify","className","children","fileName","_jsxFileName","lineNumber","columnNumber","map","zanr","onClick","src","slika","alt","naziv","_c","$RefreshReg$"],"sources":["E:/Faks/4.god/napredne baze/KNJIGE/frontknjige (3)/frontknjige/src/stranice/SviZanrovi.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\n\r\nconst SviZanrovi = ({ onZanroviSelect, onClose}) => {\r\n    const [zanrovi, setZanrovi] = useState([]);\r\n    const [selectedZanrovi, setSelectedZanrovi] = useState([]);\r\n\r\n    useEffect(() => {\r\n    const fetchZanrovi = async () => {\r\n        try {\r\n            const response = await fetch(\"http://localhost:5108/Zanr/vratiSveZanrove\");\r\n            if (!response.ok) {\r\n            throw new Error(\"Greška pri učitavanju žanrova\");\r\n            }\r\n            const data = await response.json();\r\n            setZanrovi(data);\r\n        } \r\n        catch (error) {\r\n            console.error(\"Greška prilikom učitavanja žanrova:\", error);\r\n        }\r\n        // Ako postoji prethodni izbor u localStorage, postavi ga kao selektovane\r\n        const savedGenres = JSON.parse(localStorage.getItem(\"selectedGenres\"));\r\n        if (savedGenres) {\r\n            setSelectedZanrovi(savedGenres);\r\n        }\r\n    };\r\n\r\n    fetchZanrovi();\r\n    }, []);\r\n\r\n    // Selektovanje/odselektovanje žanra\r\n    const handleCardClick = (zanrId) => {\r\n        setSelectedZanrovi((prevSelected) =>\r\n            prevSelected.includes(zanrId)\r\n            ? prevSelected.filter((id) => id !== zanrId) // Ukloni ako je već selektovan\r\n            : [...prevSelected, zanrId] // Dodaj ako nije selektovan\r\n        );\r\n    };\r\n\r\n    // // Prosljeđivanje izabrane liste nazad parent komponenti (Registracija)\r\n    // useEffect(() => {\r\n    //     onZanroviSelect(selectedZanrovi);\r\n    // }, [selectedZanrovi, onZanroviSelect]);\r\n\r\n    // Funkcija koja se poziva pri kliknu na Finish\r\n    const handleFinishClick = () => {\r\n        console.log(selectedZanrovi)\r\n        onZanroviSelect(selectedZanrovi);\r\n        localStorage.setItem(\"selectedGenres\", JSON.stringify(selectedZanrovi));\r\n        onClose();\r\n    };\r\n\r\n    return (\r\n    <div className=\"p-0 w-full h-full bg-gray-100\">\r\n        <h1 className=\"text-3xl text-yellow-900 font-bold text-center mt-8 mb-8\">Genres</h1>\r\n        <div className=\"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4\">\r\n        {zanrovi.map((zanr) => (\r\n            <div\r\n            key={zanr.id}\r\n            className={`p-4 ml-4 mr-4 rounded-lg shadow-md cursor-pointer transition ${\r\n                selectedZanrovi.includes(zanr.id)\r\n                ? \"bg-yellow-700 text-white\"\r\n                : \"bg-white text-yellow-900\"\r\n            }`}\r\n            onClick={() => handleCardClick(zanr.id)}\r\n            >\r\n            <img\r\n                src={zanr.slika} \r\n                alt={zanr.naziv}\r\n                className=\"w-full h-32 object-cover rounded-lg mb-4\"\r\n            />\r\n            <h2 className=\"text-lg font-medium text-center\">{zanr.naziv}</h2>\r\n            </div>\r\n        ))}\r\n        </div>\r\n        <button\r\n            className=\"absolute bottom-4 right-4 bg-yellow-900 text-white px-6 py-3 rounded-lg shadow-md hover:bg-yellow-600 transition\"\r\n           onClick={handleFinishClick}\r\n        >\r\n            Finish\r\n        </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SviZanrovi;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}